{% extends 'base/base.html' %}
{% load static %}


{% block head %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://kit.fontawesome.com/45561a8e99.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/static/css/blog/blog-detail.css">
</head>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
<link rel="stylesheet" href="{% static 'css/compiled-tailwind/compiled-tailwind.min.css' %}" />
{% endblock %}


{% block body %}
{%csrf_token%}

<body>
    <section class="post-header">
        <div class="header-content post-container">
            <!-- Back -->
            <a href="/blog/templates/blog/blog-list.html" class="back-home">Back To Home</a>
            <!-- Title -->
            <h1 class="header-title">Twitter's New Retweet With Comment Counter Is Now Available On Andriod & Web</h1>
            <!-- Image -->
            <img src="/static/img/landing/home-blog1.jpg" alt="" class="header-img">
            
        </div>
    </section>

    <section class="post-content post-container">
        <h2 class="sub-heading">New Topic 1</h2>
        <p class="post-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Aut pariatur commodi quibusdam, aspernatur earum saepe quos dicta id voluptatem eos voluptatibus eligendi ratione veniam eius neque odit autem adipisci. Repellat.</p>
        <p class="post-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Aut pariatur commodi quibusdam, aspernatur earum saepe quos dicta id voluptatem eos voluptatibus eligendi ratione veniam eius neque odit autem adipisci. Repellat.</p>
        <h2 class="sub-heading">New Topic 1</h2>
        <p class="post-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Aut pariatur commodi quibusdam, aspernatur earum saepe quos dicta id voluptatem eos voluptatibus eligendi ratione veniam eius neque odit autem adipisci. Repellat.</p>
        <p class="post-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Aut pariatur commodi quibusdam, aspernatur earum saepe quos dicta id voluptatem eos voluptatibus eligendi ratione veniam eius neque odit autem adipisci. Repellat.</p>
        <p class="post-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Aut pariatur commodi quibusdam, aspernatur earum saepe quos dicta id voluptatem eos voluptatibus eligendi ratione veniam eius neque odit autem adipisci. Repellat.</p>
    </section>

    <div class="share post-container">
        <span class="share-title">Bagikan artikel</span>
        <div class="social">
            <a href="#"><i class="fa-brands fa-facebook"></i></a>
            <a href="#"><i class="fa-brands fa-twitter"></i></a>
            <a href="#"><i class="fa-brands fa-whatsapp"></i></a>
            <a href="#"><i class="fa-brands fa-linkedin-in"></i></a>
        </div>
    </div>
</body>
</html>



<!-- <div class="w-full mb-5">
    <div class="flex flex-wrap">
        <div class="w-full p-3">
            <div class="text-base font-bold">
                <h2>{{article.title}}</h2>
                <input type="hidden" name="slug" value="{{article.slug}}">
            </div>
            <div>
                <img src="{{article.img.url}}"/>
            </div>
        </div>
        <div class="w-full p-3">
            {{article.content | safe}} 
        </div>
    </div>
</div>

<div class="w-full mt-5">
<div class="flex">
    <div class="text-base font-bold">
        <h1>Berita Terkait</h1>
    </div>
    <div class="flex">
        {% for suggest in suggestion %}
        <div class="p-3">
            <a href="">{{suggest.title}}</a>
        </div>
        {% endfor %}
    </div>
</div>
</div> -->


























<!-- JS untuk laporan jika ada pengunjung membaca, maka jumlah visitor akan bertambah didatabase -->
<script>
var csrf_token = document.getElementsByName('csrfmiddlewaretoken')[0].value;
async function reportVisitor() {
    const setting = {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': csrf_token,
        },
        body: JSON.stringify({
            'slug': '{{article.slug}}'
        })
    }

    let response = await fetch('/blog-service/report-visitor/', setting);

    if (response.status === 200) {
        console.log('success');
    }
}
setTimeout(reportVisitor, 7000);
</script>
{% endblock %}